---
title: 'ZSH Tips 1: è‡ªå®šç¾©æŒ‡ä»¤å¿«é€Ÿé€²å…¥å°ˆæ¡ˆç›®éŒ„'
date: '2019-12-21'
tag: 'zsh, shell'
---

è¿½æ±‚å¿«é€Ÿæ˜¯å·¥ç¨‹å¸«

é€™ç¯‡æ–‡ç« å‡è¨­ä½ æ˜¯ä½¿ç”¨ Oh My ZSHã€‚é‚£éº¼æˆ‘å€‘é–‹å§‹è¨­å®š .zshrc æª”å”„:

## Step1: è‡ªè¨‚å·¥ä½œç›®éŒ„ï¼Œå°‡æ‰€æœ‰å°ˆæ¡ˆé›†ä¸­ç®¡ç†

æˆ‘è‡ªå·±å€‹äººçš„ç¿’æ…£æ˜¯æŠŠæ‰€æœ‰é–‹ç™¼çš„ Repository æ”¾åœ¨ **~/Developer** ç›®éŒ„ä¸‹ï¼Œä¸¦ä¸” export **WORKSPACE** é€™å€‹è®Šæ•¸ï¼Œæ–¹ä¾¿è®€å–ï¼š

```shell
export WORKSPACE=~/Developer
```

## Step2: å®šç¾©è…³æœ¬è¡Œç‚º

```shell
c() {
  cd $WORKSPACE/$1
}
```

ç‚ºæ±‚å¿«é€Ÿï¼Œé€™è£¡æŠŠ function å®šç¾©æˆå·¦æ‰‹è¼¸å…¥çš„å–®ä¸€å­—æ¯ï¼Œ**c** è®“ä½ èƒ½å¤ åˆ°é” **WORKSPACE** åº•ä¸‹ä»»ä¸€ç›®éŒ„ï¼š

```shell
$ c  # ç­‰æ–¼ cd ~/Developer
$ c project-name  # ç­‰æ–¼ cd ~/Developer/project-name
```

ç„¶è€Œï¼Œä½ è©²ä¸æœƒä»¥ç‚ºçœŸçš„æœƒæœ‰äººæƒ³è¦æ‰‹æ‰“é€™ä¸€é•·ä¸²åˆè‡­åˆé•·çš„å°ˆæ¡ˆåç¨±å§ ğŸ™„ï¸

## Step3: è‡ªå‹•è£œå…¨

```shell
# initialize autocomplete here, otherwise functions won't be loaded
autoload -U compinit
compinit

c() {
  cd $WORKSPACE/$1
}

_c() {
  _files -W $WORKSPACE -/
}

# At end of file, otherwise function may not be called.
compdef _c c
```

**compdef \_c c** çš„æ„æ€æ˜¯ \_c å®šç¾© c çš„è£œå…¨è¡Œç‚ºï¼Œè¦æ”¾åœ¨æª”æ¡ˆçµå°¾

- \_files: è£œå…¨æª”æ¡ˆè·¯å¾‘
- -W: æŒ‡å®š è£œå…¨æª”æ¡ˆè·¯å¾‘çš„ prefix
- -/: åªåŒ¹é… directory

## Demo Time:

TODO: GIF Here

## Reference

- https://github.com/zsh-users/zsh-completions/blob/master/zsh-completions-howto.org
- http://zsh.sourceforge.net/Doc/Release/Completion-System.html
