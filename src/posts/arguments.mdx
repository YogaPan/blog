---
title: 'Javascript 中的 Arguments & Rest Operator'
date: '2019-12-21'
tags: 'javascript'
---

## Table of Contents

```toc
```

## Arguments

最近閱讀許多開源 Source Code，常看到 [arguments](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/arguments) 這個傢伙：

```js
function foo() {
  console.log(arguments)  // where do you come from, bro?
}

foo('first argument', 'second argument', 'third argument')
```

這個 `arguments` 到底是什麼？簡單來說，**arguments 就是一個能夠在 function 內存取的 Array Like Object，這個物件包含所有傳入這個 function 的參數**。上面的程式碼的輸出結果如下：

![arguments](../images/arguments/001.png)

這邊補充一下，所謂 Array-Like 指的就是**有 Array 的屬性，但沒有 Array 的方法。**

```js
console.log(arguments[0]) // first argument
console.log(arguments[1]) // second argument
console.log(arguments[2]) // third argument

// Uncaught TypeError: arguments.push is not a function
arguments.push('forth argument')
```

要把 `arguments` 轉換成 Array，可以用以下幾種方式：

```js
const arr = Array.prototype.slice.call(arguments)
const arr = [].slice.call(arguments)
const arr = Array.from(arguments)
const arr = [...arguments]
```

**注意！** 要使用 arguments 必須在 **function** 內使用，[Arrow Function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions) 中無法使用 arguments，

```js
const foo = () => {
  console.log(arguments) // Uncaught ReferenceError: arguments is not defined
}
```

## Rest Operator

利用 Rest Operator 語法 `...`，讓我們**把非固定數量的參數作為 Array 處理**：

```js
function myFun(a, b, ...manyMoreArgs) {
  console.log('a', a)
  console.log('b', b)
  console.log('manyMoreArgs', manyMoreArgs)
}

myFun('one', 'two', 'three', 'four', 'five', 'six')

// Console Output:
// a, one
// b, two
// manyMoreArgs, [three, four, five, six]
```

和 Arguments 比起來，使用 Rest Operator 的好處是

1. 直接就是 Array，不需要再從 Array Like Object 進行轉換
2. 可以任意在 Arrow Function 中使用
3. ~~ES6 語法，就是比較潮~~

## 實戰應用

無法確定傳入的參數個數時：

```js
const sum = (...args) => args.reduce((sum, value) => (sum += value), 0)

const max = (...args) =>
  args.reduce((max, value) => (value > max ? value : max))
```

將所有參數向下傳遞時：

```js
const foo = (...args) => {
  // Rest Operator
  // 略
  return bar(...args) //  要注意這個是 Spread Operator，和 Rest Operator 的作用不同
}
```

## Reference

- [The arguments object - JavaScript | MDN](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/arguments)
- [Rest parameters - JavaScript | MDN](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters)
